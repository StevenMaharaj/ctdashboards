# Grafana for the 
This tutorial will guide you through connecting Grafana to a PostgreSQL database and creating a dashboard to visualize the simulated order book data generated by your Python script. 

## Generate Order Book data
First we'll create a database table and then fill that with order book data. 

Run

```bash
uv run python add_ob_data
```

This will check if the `order_book` table exists. If it doesn't exist it will make the table. Then the program will generate simulated orderbook data, then push that data into the database.

You can check the data is there with a simple select query
```sql
SELECT * FROM order_book
```

## Connect Grafana to PostgreSQL
1. Log in to Grafana.
2. Go to Configuration > Data Sources.
3. Click Add data source and select PostgreSQL.
4. Fill in the connection details:
    - Host: postgres:5432
    - Database: orderbook
    - User: postgres
    - Password: your_password
5. Click Save & Test to verify the connection

Note that since grafana and postgres are running within the same network in the Docker ecosystem we need to make `Host:  postgres:5432`. However if grafana and postgres were running separately you would use `localhost:5432` 

## Create a Dashboard in grafana
1. Go to Dashboards > New Dashboard.
2. Click Add a new panel.
3. Configure the panel:
    - Query: Use SQL to fetch data from the order_book table. Example:
```sql
SELECT
  time AS "time",
  bid AS "Bid Price",
  ask AS "Ask Price"
FROM order_book
WHERE symbol = 'ETHUSDT'
ORDER BY time DESC
LIMIT 100;
```

## Explore Grafana features
Please refer to the video found here.
